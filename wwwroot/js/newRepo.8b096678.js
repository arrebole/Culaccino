(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["newRepo"],{"083f":function(e,t,a){"use strict";var n=a("df68"),r=a.n(n);r.a},"174c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Header"),a("article",[a("section",[a("Editor",{attrs:{handle:"create"}})],1)]),a("Footer")],1)},r=[],c=a("2b0e"),i=a("0418"),s=a("ceb0"),o=a("fd2d"),u=c["default"].extend({data:function(){return{}},methods:{},components:{Header:i["a"],Footer:o["a"],Editor:s["a"]}}),l=u,d=(a("083f"),a("2877")),p=Object(d["a"])(l,n,r,!1,null,"0418b51f",null);t["default"]=p.exports},aae7:function(e,t,a){"use strict";var n=a("d9bc"),r=a.n(n);r.a},ceb0:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"editor"}},[a("div",{staticClass:"archive-editor-nav"},[a("div",[a("label",[e._v("Repositly")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cache.title,expression:"cache.title"}],attrs:{type:"text",placeholder:"仓库名"},domProps:{value:e.cache.title},on:{input:function(t){t.target.composing||e.$set(e.cache,"title",t.target.value)}}})]),a("div",[a("label",[e._v("Area")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cache.area,expression:"cache.area"}],attrs:{type:"text",placeholder:"分区"},domProps:{value:e.cache.area},on:{input:function(t){t.target.composing||e.$set(e.cache,"area",t.target.value)}}})]),a("div",[a("label",[e._v("Summer")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cache.summary,expression:"cache.summary"}],attrs:{type:"text",placeholder:"摘要"},domProps:{value:e.cache.summary},on:{input:function(t){t.target.composing||e.$set(e.cache,"summary",t.target.value)}}})]),a("el-upload",{staticClass:"image-uploader",attrs:{action:"/api/static/upload","http-request":e.uploadImg,"show-file-list":!1}},[e.imageBlobUrl?a("img",{staticClass:"cover",attrs:{src:e.imageBlobUrl}}):a("i",{staticClass:"el-icon-plus image-uploader-icon"})]),a("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:e.submit}},[a("span",[e._v("提交")])])],1),a("div",{staticClass:"archive-contents"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.cache.contents,expression:"cache.contents"}],domProps:{value:e.cache.contents},on:{input:function(t){t.target.composing||e.$set(e.cache,"contents",t.target.value)}}})])])},r=[],c=(a("96cf"),a("3b8d")),i=a("2b0e"),s=a("79f6"),o=a("4dd8"),u=i["default"].extend({props:["handle","archive"],data:function(){return{imageBlobUrl:"",cache:new o["b"]}},created:function(){},watch:{archive:function(){Object.assign(this.cache,this.archive)}},methods:{submit:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"create"==this.handle?this.apiCreate():"update"==this.handle&&this.apiUpdate();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),apiCreate:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].newRepo(this.cache);case 2:t=e.sent,0==t.code&&alert("成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),apiUpdate:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].commitRepo({domain:this.$route.params.domain,repoName:this.cache.title},this.cache);case 2:t=e.sent,0==t.code&&alert("成功");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setURL:function(e,t){this.cache.cover=e,this.imageBlobUrl=URL.createObjectURL(t)},uploadImg:function(e){var t=this;s["a"].staticUpload(e.file).then(function(a){0==a.code&&t.setURL(a.data.file.url,e.file)})}}}),l=u,d=(a("aae7"),a("2877")),p=Object(d["a"])(l,n,r,!1,null,"3ba5991b",null);t["a"]=p.exports},d9bc:function(e,t,a){},df68:function(e,t,a){}}]);
//# sourceMappingURL=newRepo.8b096678.js.map